# R2DBC reactive PostgreSQL
#spring.r2dbc.url=r2dbc:postgresql://localhost:5432/builders_sas_db


# ===============================================================
# ? SPRING APPLICATION CONFIGURATION
# ===============================================================

# Nombre de la aplicación
spring.application.name=builders-sas-api

# Tipo de aplicación: servlet (usamos controladores clásicos con CompletableFuture)
spring.main.web-application-type=servlet

# Puerto HTTP del servidor
server.port=9090

# ===============================================================
# ? R2DBC CONFIG (ya definida por R2dbcConfig.java)
# ===============================================================
# ?? No se declara spring.r2dbc.url aquí, ya que R2dbcConfig define la conexión manualmente.
# Si se declara, puede entrar en conflicto con el bean personalizado de R2dbcConfig.

# ===============================================================
# ? ASYNC CONFIGURATION
# ===============================================================
# Activa ejecución asíncrona para los servicios
spring.task.execution.pool.core-size=8
spring.task.execution.pool.max-size=20
spring.task.execution.pool.queue-capacity=200

# ===============================================================
# ?? DATABASE SCHEMA MANAGEMENT
# ===============================================================
# Desactiva inicialización automática (usamos scripts manuales o Flyway)
spring.sql.init.mode=never
spring.r2dbc.initialization-mode=never

# ===============================================================
# ? LOGGING
# ===============================================================
logging.level.org.springframework=INFO
logging.level.io.r2dbc.postgresql=DEBUG
logging.level.com.builderssas.api=DEBUG

# ===============================================================
# ? CORS (si tu frontend lo necesita)
# ===============================================================
# Ejemplo: permite localhost:3000
# spring.web.cors.allowed-origins=http://localhost:3000
# spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
# spring.web.cors.allowed-headers=*
